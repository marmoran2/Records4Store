<!-- File: frontend/html/checkout.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Checkout | 4TTF Records</title>

  <!-- Styles -->
  <link href="../css/main.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />

  <!-- Scripts -->
  <script defer src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script type="module" src="../js/core/main.js"></script>
  <script type="module" src="../js/pages/checkout.js"></script>
</head>

<body>
  <nav id="middleBar"></nav>
  <nav id="bottomBar"></nav>

  <main class="page-container checkout-flow">
    <div class="checkout-steps">
      <span class="step active">1</span>
      <span class="step">2</span>
      <span class="step">3</span>
      <span class="step">4</span>
    </div>

    <form id="checkoutForm">
      <!-- STEP 1: Login Check -->
      <section class="checkout-step active" data-step="1">
        <h2>Start Checkout</h2>
        <p class="text-muted">Please confirm your identity to continue.</p>

        <div id="loginStatus" class="mt-3 mb-4">
          <!-- Filled by JS -->
        </div>

        <div class="d-grid gap-2">
          <button type="button" class="btn btn-primary" id="continueToDelivery">Continue as Logged In</button>
          <button type="button" class="btn btn-outline-secondary" id="checkoutAsGuest">Checkout as Guest</button>
        </div>
      </section>

      <section class="checkout-step" data-step="2">
        <h2>Delivery Address</h2>
      
        <div id="prefillOptions" class="mb-3 d-none">
          <button type="button" class="btn btn-outline-secondary btn-sm" id="prefillAddressBtn">
            Use address from my account
          </button>
        </div>
      
        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="deliveryName" class="form-label">Full Name</label>
            <input type="text" class="form-control" id="deliveryName" required />
          </div>
          <div class="col-md-6 mb-3">
            <label for="deliveryPhone" class="form-label">Phone Number</label>
            <input type="text" class="form-control" id="deliveryPhone" required />
          </div>
        </div>
      
        <div class="mb-3">
          <label for="deliveryAddress1" class="form-label">Address Line 1</label>
          <input type="text" class="form-control" id="deliveryAddress1" required />
        </div>
        <div class="mb-3">
          <label for="deliveryAddress2" class="form-label">Address Line 2</label>
          <input type="text" class="form-control" id="deliveryAddress2" />
        </div>
        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="deliveryCity" class="form-label">City</label>
            <input type="text" class="form-control" id="deliveryCity" required />
          </div>
          <div class="col-md-6 mb-3">
            <label for="deliveryCountry" class="form-label">Country</label>
            <input type="text" class="form-control" id="deliveryCountry" required />
          </div>
        </div>
      
        <div class="form-check mb-4">
          <input class="form-check-input" type="checkbox" id="saveAddress" />
          <label class="form-check-label" for="saveAddress">
            Save this address to my account
          </label>
        </div>
      
        <button type="button" class="btn btn-primary" id="toPaymentStep">Continue to Payment</button>
      </section>
    </form>

    <!-- STEP 3: Payment & Cart Summary -->
<section class="checkout-step" data-step="3">
    <h2>Payment</h2>
  
    <div class="row mb-3">
      <div class="col-md-6">
        <label for="cardName" class="form-label">Name on Card</label>
        <input type="text" class="form-control" id="cardName" required />
      </div>
      <div class="col-md-6">
        <label for="cardNumber" class="form-label">Card Number</label>
        <input type="text" class="form-control" id="cardNumber" required />
      </div>
    </div>
  
    <div class="row mb-3">
      <div class="col-md-4">
        <label for="cardExpiry" class="form-label">Expiry</label>
        <input type="text" class="form-control" id="cardExpiry" placeholder="MM/YY" required />
      </div>
      <div class="col-md-4">
        <label for="cardCVC" class="form-label">CVC</label>
        <input type="text" class="form-control" id="cardCVC" required />
      </div>
    </div>
  
    <div class="cart-summary mt-4" id="paymentCartSummary">
      <!-- JS will inject cart summary here -->
    </div>
  
    <button type="button" class="btn btn-primary mt-4" id="placeOrderBtn">Place Order</button>
  </section>

  <!-- STEP 4: Order Confirmation -->
<section class="checkout-step" data-step="4">
    <h2>Order Confirmed </h2>
    <p class="text-success">Thank you for your purchase.</p>
  
    <div class="order-summary mt-4" id="orderSummary">
      <!-- JS will render order details -->
    </div>
  
    <div class="text-center mt-4">
      <a href="index.html" class="btn btn-outline-primary">Return to Homepage</a>
    </div>
  </section>
  </main>
</body>
</html>
